
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Use Conditional Text &#8212; RST | Sphinx | Sublime | GitHub  documentation</title>
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/my-styles.css" type="text/css" />
    <link rel="stylesheet" href="_static/osexample.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/osexample.js"></script>
    <script type="text/javascript" src="_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Add a Glossary" href="glossary.html" />
    <link rel="prev" title="Use Inline Formatting" href="inline.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          RST | Sphinx | Sublime | GitHub</a>
        <span class="navbar-text navbar-version pull-left"><b></b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Contents <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="setup.html">Set Up Your System</a></li>
<li class="toctree-l1"><a class="reference internal" href="create_project.html">Create a Sphinx Project</a></li>
<li class="toctree-l1"><a class="reference internal" href="glossary_terms.html">Glossary Terms</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="packages.html">Install Sublime Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="editor_settings.html">Create Macros</a></li>
<li class="toctree-l1"><a class="reference internal" href="sublime_macros.html">Customize Sublime</a></li>
<li class="toctree-l1"><a class="reference internal" href="snippets.html">Use Snippets as Shortcuts</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="topics.html">Write Topics</a></li>
<li class="toctree-l1"><a class="reference internal" href="indices.html">Create Tables of Contents</a></li>
<li class="toctree-l1"><a class="reference internal" href="lists.html">Use Lists</a></li>
<li class="toctree-l1"><a class="reference internal" href="notes_warnings.html">Use Notes and Warnings</a></li>
<li class="toctree-l1"><a class="reference internal" href="code_blocks.html">Show Example Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="tables.html">Use Tables</a></li>
<li class="toctree-l1"><a class="reference internal" href="references.html">Add Links</a></li>
<li class="toctree-l1"><a class="reference internal" href="images.html">Add Images</a></li>
<li class="toctree-l1"><a class="reference internal" href="videos.html">Add Videos</a></li>
<li class="toctree-l1"><a class="reference internal" href="inline.html">Use Inline Formatting</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Use Conditional Text</a></li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Add a Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="reuse.html">Reuse Content</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="theme.html">Use Themes</a></li>
<li class="toctree-l1"><a class="reference internal" href="styles.html">Customize Styles</a></li>
<li class="toctree-l1"><a class="reference internal" href="build.html">Build the Project</a></li>
<li class="toctree-l1"><a class="reference internal" href="rtd.html">Use Read the Docs</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Use Conditional Text</a><ul>
<li><a class="reference internal" href="#build-projects-with-conditions">Build Projects with Conditions</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="inline.html" title="Previous Chapter: Use Inline Formatting"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Use Inline Formatting</span>
    </a>
  </li>
  <li>
    <a href="glossary.html" title="Next Chapter: Add a Glossary"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Add a Glossary &raquo;</span>
    </a>
  </li>
              
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="use-conditional-text">
<h1>Use Conditional Text<a class="headerlink" href="#use-conditional-text" title="Permalink to this headline">¶</a></h1>
<p>Sphinx supports conditional text. That is, you can specify that some content is visible only to the intended audience. You can then build different versions of the project for different audiences</p>
<p>To limit visibility of certain content, indent that content under an <code class="docutils literal"><span class="pre">..</span> <span class="pre">only::</span></code> directive. For example, to specify that some content is available only to internal audiences, use:</p>
<div class="highlight-RST"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">only</span><span class="p">::</span> Internal

  Content to be included only in the internal version of the document.
</pre></div>
</div>
<div class="section" id="build-projects-with-conditions">
<h2>Build Projects with Conditions<a class="headerlink" href="#build-projects-with-conditions" title="Permalink to this headline">¶</a></h2>
<p>When you use conditions, you must use the <code class="docutils literal"><span class="pre">-t</span> <span class="pre">audience</span></code> flag in the build command to specify which version of the project to build.</p>
<p>For example, the default command to build HTML in a project Makefile is:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>.PHONY: html
html:
 <span class="k">$(</span>SPHINXBUILD<span class="k">)</span> -b html <span class="k">$(</span>ALLSPHINXOPTS<span class="k">)</span> <span class="k">$(</span>BUILDDIR<span class="k">)</span>
 @echo
 @echo <span class="s2">&quot;Build finished. The HTML pages are in </span><span class="k">$(</span>BUILDDIR<span class="k">)</span><span class="s2">.&quot;</span>
</pre></div>
</div>
<p>If you use this command (<code class="docutils literal"><span class="pre">make</span> <span class="pre">html</span></code>) to build the project, the resulting HTML will <strong>not</strong> include content indented under the <code class="docutils literal"><span class="pre">..</span> <span class="pre">only::</span> <span class="pre">Internal</span></code> directive.</p>
<p>To build a project that does include this conditional content, add a command to your Makefile with the parameter <code class="docutils literal"><span class="pre">-t</span> <span class="pre">Internal</span></code>:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>.PHONY: internalhtml
 internalhtml:
<span class="hll">  <span class="k">$(</span>SPHINXBUILD<span class="k">)</span> -b html <span class="k">$(</span>ALLSPHINXOPTS<span class="k">)</span> -t Internal <span class="k">$(</span>INTERNALBUILDDIR<span class="k">)</span>
</span>  @echo
  @echo <span class="s2">&quot;Build finished. The HTML pages are in </span><span class="k">$(</span>INTERNALBUILDDIR<span class="k">)</span><span class="s2">.&quot;</span>
</pre></div>
</div>
<p>Then build the project with <code class="docutils literal"><span class="pre">make</span> <span class="pre">internalhtml</span></code>. The resulting HTML will
include the internal-only content.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This example assumes you have defined <strong>INTERNALBUILDDIR</strong> as a separate location for the built files.  You do not want to place them in the same directory as those files built without the conditional text, and have them overwrite the other project.</p>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
    </p>
    <p>
      <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/80x15.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a>
    </p>
  </div>
</footer>
  </body>
</html>